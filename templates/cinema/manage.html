<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Manage</title>
    {% load static %}
    {% csrf_token %}
    <link rel="stylesheet" href="{% static 'cinema/style.css' %}">
</head>
<body>
<div class="menu">
    <a href="/" >Home</a>
    <a href="/manage" style="pointer-events: none">Manage</a>
</div>
<div class="manage-container">
    <div class="manage-item">
        <div class="manage-header">
            <h2>Cinemas</h2>
            <a href="/manage/create-cinema">
                <button> Add new cinema</button>
            </a>
        </div>

        <div>
            <table class="table-list">
                <tr>
                    <th>
                        Name
                    </th>
                    <th>
                        Logo
                    </th>
                </tr>
                {% for cinema in cinemas %}
                    <tr>
                        <td>
                            {{ cinema.name }}
                        </td>
                        <td>
                            <img src="{% static 'cinema/images/' %}logo.jpg" alt="logo" width="32" height="32">
                        </td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>
    <div class="manage-item">
        <div class="manage-header">
            <h2>Films</h2>
            <a href="/manage/add-film">
                <button> Add new film</button>
            </a>
        </div>
        <div>
            <table class="table-list">
                <tr>
                    <th>
                        Name
                    </th>
                    <th>
                        Poster
                    </th>
                </tr>
                {% for film in films %}
                    <tr>
                        <td>
                            {{ film.name }}
                        </td>
                        <td>
                            <img src="{% static 'cinema/images/' %}{{ film.poster }}" alt="logo" width="100"
                                 height="100">
                        </td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>
    <div class="manage-item">
        <div class="manage-header">
            <h2>Time Frames</h2>
            <a href="/manage/add-time-frame">
                <button> Add new time frame</button>
            </a>
        </div>
        <div>
            <table class="table-list">
                <tr>
                    <th>
                        From
                    </th>
                    <th>
                        To
                    </th>
                </tr>
                {% for time_frame in time_frames %}
                    <tr>
                        <td>
                            {{ time_frame.start_time }}
                        </td>
                        <td>
                            {{ time_frame.end_time }}
                        </td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>
    <div class="manage-item">
        <div class="manage-header">
            <h2>Cinema Halls</h2>
            <a href="/manage/add-cinema-hall">
                <button> Add new cinema hall</button>
            </a>
        </div>
        <div>
            <table class="table-list">
                <tr>
                    <th>
                        Cinema Name
                    </th>
                    <th>
                        Hall Name
                    </th>
                    <th>
                        Capacity
                    </th>
                </tr>
                {% for room in rooms %}
                    <tr>
                        <td>
                            {{ room.cinema_name }}
                        </td>
                        <td>
                            {{ room.name }}
                        </td>
                        <td>
                            {{ room.number_of_seats }}
                        </td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>
    <div class="manage-item">
        <div class="manage-header">
            <h2>Schedules</h2>
            <a href="/manage/add-schedule">
                <button> Add new schedule</button>
            </a>
        </div>
        <div>
            <table class="table-list">
                <tr>
                    <th>
                        Cinema Name
                    </th>
                    <th>
                        Film Name
                    </th>
                    <th>
                        Cinema Hall
                    </th>
                    <th>
                        Time Frame
                    </th>
                    <th>
                        Date
                    </th>
                    <th>Price</th>
                    <th></th>
                </tr>
                {% for seance in schedules %}
                    <tr>
                        <td>
                            {{ seance.cinema_name }}
                        </td>
                        <td>
                            {{ seance.film_name }}
                        </td>
                        <td>
                            {{ seance.cinema_hall }}
                        </td>
                        <td>
                            {{ seance.start_time }} - {{ seance.end_time}}
                        </td>
                        <td>
                            {{ seance.show_date }}
                        </td>
                        <td>{{ seance.ticket_price }}</td>
                    <td><button data-schedule-id="{{ seance.id }}" class="btn btn-primary btn-edit-schedule">Edit</button></td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>
    <div class="manage-item">
        <div class="manage-header">
            <h2>Income</h2>
        </div>
        <div>
            <table class="table-list">
                <tr>
                    <th>
                        Cinema Name
                    </th>
                    <th>
                        Income
                    </th>
                </tr>
                {% for income in income_list %}
                    <tr>
                        <td>
                            {{ income.cinema }}
                        </td>
                        <td>
                            {{ income.income }}
                        </td>
                    </tr>
                {% endfor %}
            </table>
        </div>
</div>
<script src="{% static 'cinema/script.js' %}"></script>
</body>
</html>